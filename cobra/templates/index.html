<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cobra</title>
    <!--<link rel='stylesheet' type='text/css' href="{{ url_for('static', filename='maple.css') }}">-->
    <link rel='stylesheet' href='//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css'>
    <style>
      body {
        padding-top: 80px;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class='container' style="overflow: hidden; white-space: nowrap;">
          <h1>Cobra <small>by <a href="http://github.com/1000ch">1000ch</a></small></h1>
        </div>
      </nav>
    </header>
    <div class='container'>
      <section class='row'>
        <div class="col-md-6">
          <div class="list-group" id="js-entry">
            {% for entry in entries %}
              <a href="{{ entry.link }}" target="_blank" class="list-group-item" data-feed="{{ entry.feedTitle }}">
                <h4 class="list-group-item-heading">{{ entry.title }}</h4>
                <p class="list-group-item-text">
                  <date>{{ entry.date }}</date> - {{ entry.feedTitle }}
                </p>
              </a>
            {% endfor %}
          </div>
        </div>
        <div class="col-md-6">
          <div class="affix" role="complementary">
            <ul class="nav nav-pills" id="js-feed">
              {% for feed in feeds %}
                <li data-feed="{{ feed }}"><a href='#'>{{ feed }}</a></li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </section>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src='//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js'></script>
    <script>
      $(function () {
        $entries = $('#js-entry').find('.list-group-item');
        $feed = $('#js-feed');
        $feeds = $feed.find('li');

        $feed.on('touchstart', 'li', function (e) {
          $(this).addClass('active');
        }).on('touchend', 'li', function (e) {
          $(this).removeClass('active');
        });

        $feed.on('click', 'li', function (e) {
          var $this = $(this);
          if ($this.hasClass('active')) {
            $entries.removeClass('hidden');
          } else {
            $feeds.removeClass('active');
            $entries.each(function (index, element) {
              var $element = $(element);
              if ($element.attr('data-feed') === $this.attr('data-feed')) {
                $element.removeClass('hidden');
              } else {
                $element.addClass('hidden');
              }
            });
          }
          $this.toggleClass('active');
        });
      });
    </script>
  </body>
</html>